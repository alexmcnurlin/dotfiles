# vim:filetype=i3 fdm=indent foldignore=
# This file was originally auto-generated by i3-config-wizard, 
# but has been modified by yours truly.
# Please see http://i3wm.org/docs/userguide.html for a complete reference!

# Basic settings
  set $mod Mod1

  # Font for window titles.
  #font pango:DejaVu Sans Mono 8
  font pango:Ubuntu Mono 9

  # Use Mouse+$mod to drag floating windows to their wanted position
  floating_modifier mod4

  # The width of window borders, also disables titlebars
  new_window pixel 3 

  # new pastel colors
  set $fgcolor            #4084d6
  set $accent             #64b5f6 
  set $bgcolor            #2f343f

  # Class                     border   backgr   text     indicator
  client.focused              $fgcolor $fgcolor $bgcolor $accent
  client.focused_inactive     $bgcolor $bgcolor $fgcolor $bgcolor
  client.unfocused            $bgcolor $bgcolor $fgcolor $bgcolor

  # Make the Variety Wallpaper chooser always be float, not tiling
  for_window [class="Variety" instance="variety"] floating enable
  for_window [class="Guake" instance="guake"] floating enable

  exec_always i3-msg gaps inner all set 20

# start dmenu (a program launcher)
  bindsym $mod+d exec dmenu_run

# Basic key bindings
  # start a terminal
  bindsym $mod+Return exec gnome-terminal

  # kill focused window
  bindsym control+Shift+space kill

  # change focus
  bindsym $mod+h focus left
  bindsym $mod+j focus down
  bindsym $mod+k focus up
  bindsym $mod+l focus right

  # alternatively, you can use the cursor keys:
  bindsym $mod+Left focus left
  bindsym $mod+Down focus down
  bindsym $mod+Up focus up
  bindsym $mod+Right focus right

  # move focused window
  bindsym $mod+Shift+h move left
  bindsym $mod+Shift+j move down
  bindsym $mod+Shift+k move up
  bindsym $mod+Shift+l move right

  # alternatively, you can use the cursor keys:
  bindsym $mod+Shift+Left move left
  bindsym $mod+Shift+Down move down
  bindsym $mod+Shift+Up move up
  bindsym $mod+Shift+Right move right

  # split in horizontal orientation
  bindsym $mod+shift+v split h

  # split in vertical orientation
  bindsym $mod+v split v

  # enter fullscreen mode for the focused container
  bindsym $mod+f fullscreen

  # change container layout (stacked, tabbed, toggle split)
  bindsym $mod+s layout stacking
  bindsym $mod+w layout tabbed
  bindsym $mod+e layout toggle split

  # toggle tiling / floating
  bindsym mod4+space floating toggle

  # change focus between tiling / floating windows
  bindsym mod4+Shift+space focus mode_toggle

  # focus the parent container
  bindsym $mod+a focus parent

# Reloading/Restarting i3
  # reload the configuration file
  bindsym $mod+Shift+c reload
  bindsym $mod+Shift+r restart
  bindsym $mod+Shift+e exec "if $(zenity --question --text='Are you sure you want to log out'); then i3-msg exit; fi"

# Workspace management
  # switch to workspace
  bindsym $mod+Control+KP_1   workspace 1
  bindsym $mod+Control+KP_2   workspace 2
  bindsym $mod+Control+KP_3   workspace 3
  bindsym $mod+Control+KP_4   workspace 4
  bindsym $mod+Control+KP_5   workspace 5
  bindsym $mod+Control+KP_6   workspace 6
  bindsym $mod+Control+KP_7   workspace 7
  bindsym $mod+Control+KP_8   workspace 8
  bindsym $mod+Control+KP_9   workspace 9
  bindsym $mod+Control+KP_0   workspace 10
  bindsym $mod+Control+m      workspace 1
  bindsym $mod+Control+comma  workspace 2
  bindsym $mod+Control+period workspace 3
  bindsym $mod+Control+j      workspace 4
  bindsym $mod+Control+k      workspace 5
  bindsym $mod+Control+l      workspace 6
  bindsym $mod+Control+u      workspace 7
  bindsym $mod+Control+i      workspace 8
  bindsym $mod+Control+o      workspace 9
   
  # move focused container to workspace
  bindsym $mod+mod4+KP_1 move container to workspace 1
  bindsym $mod+mod4+KP_2 move container to workspace 2
  bindsym $mod+mod4+KP_3 move container to workspace 3
  bindsym $mod+mod4+KP_4 move container to workspace 4
  bindsym $mod+mod4+KP_5 move container to workspace 5
  bindsym $mod+mod4+KP_6 move container to workspace 6
  bindsym $mod+mod4+KP_7 move container to workspace 7
  bindsym $mod+mod4+KP_8 move container to workspace 8
  bindsym $mod+mod4+KP_9 move container to workspace 9
  bindsym $mod+mod4+KP_0 move container to workspace 10
  bindsym $mod+mod4+m move container to workspace 1
  bindsym $mod+mod4+comma move container to workspace 2
  bindsym $mod+mod4+period move container to workspace 3
  bindsym $mod+mod4+j move container to workspace 4
  bindsym $mod+mod4+k move container to workspace 5
  bindsym $mod+mod4+l move container to workspace 6
  bindsym $mod+mod4+u move container to workspace 7
  bindsym $mod+mod4+i move container to workspace 8
  bindsym $mod+mod4+o move container to workspace 9

  # move focused container to workspace
  bindsym $mod+Shift+KP_1 exec --no-startup-id ~/.i3/switch-workspace.py 1
  bindsym $mod+Shift+KP_2 exec --no-startup-id ~/.i3/switch-workspace.py 2
  bindsym $mod+Shift+KP_3 exec --no-startup-id ~/.i3/switch-workspace.py 3
  bindsym $mod+Shift+KP_4 exec --no-startup-id ~/.i3/switch-workspace.py 4
  bindsym $mod+Shift+KP_5 exec --no-startup-id ~/.i3/switch-workspace.py 5
  bindsym $mod+Shift+KP_6 exec --no-startup-id ~/.i3/switch-workspace.py 6
  bindsym $mod+Shift+KP_7 exec --no-startup-id ~/.i3/switch-workspace.py 7
  bindsym $mod+Shift+KP_8 exec --no-startup-id ~/.i3/switch-workspace.py 8
  bindsym $mod+Shift+KP_9 exec --no-startup-id ~/.i3/switch-workspace.py 9
  bindsym $mod+Shift+KP_0 exec --no-startup-id ~/.i3/switch-workspace.py 10

  # move focused container to workspace
  bindsym control+$mod+Shift+m      move container to workspace 1; workspace 1
  bindsym control+$mod+Shift+comma  move container to workspace 2; workspace 2
  bindsym control+$mod+Shift+period move container to workspace 3; workspace 3
  bindsym control+$mod+Shift+j      move container to workspace 4; workspace 4
  bindsym control+$mod+Shift+k      move container to workspace 5; workspace 5
  bindsym control+$mod+Shift+l      move container to workspace 6; workspace 6
  bindsym control+$mod+Shift+u      move container to workspace 7; workspace 7
  bindsym control+$mod+Shift+i      move container to workspace 8; workspace 8
  bindsym control+$mod+Shift+o      move container to workspace 9; workspace 9

# Custom Modes
  # Resize Window mode
    mode "resize" {
      # These bindings trigger as soon as you enter the resize mode

      # Pressing left will shrink the window’s width.
      # Pressing right will grow the window’s width.
      # Pressing up will shrink the window’s height.
      # Pressing down will grow the window’s height.
      bindsym h resize shrink width  10 px or 4.1616 ppt
      bindsym j resize shrink height 10 px or 4.1616 ppt
      bindsym k resize grow   height 10 px or 4.1616 ppt
      bindsym l resize grow   width  10 px or 4.1616 ppt

      # same bindings, but for the arrow keys
      bindsym Left  resize shrink width  10 px or 4.1616 ppt
      bindsym Down  resize shrink height 10 px or 4.1616 ppt
      bindsym Up    resize grow   height 10 px or 4.1616 ppt
      bindsym Right resize grow   width  10 px or 4.1616 ppt

      bindsym shift+h resize shrink width  1 px or 1ppt
      bindsym shift+j resize shrink height 1 px or 1ppt
      bindsym shift+k resize grow   height 1 px or 1ppt
      bindsym shift+l resize grow   width  1 px or 1ppt

      # same bindings, but for the arrow keys
      bindsym shift+Left  resize shrink width  1 px or 1ppt
      bindsym shift+Down  resize shrink height 1 px or 1ppt
      bindsym shift+Up    resize grow   height 1 px or 1ppt
      bindsym shift+Right resize grow   width  1 px or 1ppt

      bindsym ctrl+h resize shrink width  20 px or 25ppt
      bindsym ctrl+j resize shrink height 20 px or 25ppt
      bindsym ctrl+k resize grow   height 20 px or 25ppt
      bindsym ctrl+l resize grow   width  20 px or 25ppt

      # same bindings, but for the arrow keys
      bindsym ctrl+Left  resize shrink width  20 px or 25ppt
      bindsym ctrl+Down  resize shrink height 20 px or 25ppt
      bindsym ctrl+Up    resize grow   height 20 px or 25ppt
      bindsym ctrl+Right resize grow   width  20 px or 25ppt

      # back to normal: Enter or Escape
      bindsym Return mode "default"
      bindsym Escape mode "default"
    }
    bindsym $mod+r mode "resize"

  # Move window mode
    #mode "move" { # Defines a new 'move' mode to move windows around
            ## change focus
      #bindsym h focus left
      #bindsym j focus down
      #bindsym k focus up
      #bindsym l focus right

      ## alternatively, you can use the cursor keys:
      #bindsym Left  focus left
      #bindsym Down  focus down
      #bindsym Up    focus up
      #bindsym Right focus right

      ## move focused window
      #bindsym Shift+h move left
      #bindsym Shift+j move down
      #bindsym Shift+k move up
      #bindsym Shift+l move right

      ## alternatively, you can use the cursor keys:
      #bindsym Shift+Left move left
      #bindsym Shift+Down move down
      #bindsym Shift+Up move up
      #bindsym Shift+Right move right

      #bindsym Return mode "default"
      #bindsym Escape mode "default"
    #}
    #bindsym $mod+m mode "move"

# i3bar
  # Config can be found in ~/.i3status.conf
  bar {
    colors {
      # Whole color settings
      background $bgcolor
      statusline $accent
      separator  $fgcolor 

                          #border  #bg     #text 
      focused_workspace 	$bgcolor $bgcolor $accent
      active_workspace  	$bgcolor $bgcolor $accent
      inactive_workspace	$bgcolor $bgcolor $fgcolor  
      urgent_workspace	  $bgcolor $bgcolor $fgcolor  
    }
    status_command i3status
    separator_symbol ""
    font pango:Ubuntu Mono derivative Powerline 11
    position top
  }

# Custom Keys/Commands
  #Media/FN key controls
    # Pulse Audio controls
    bindsym XF86AudioRaiseVolume exec pactl set-sink-volume alsa_output.pci-0000_00_1b.0.analog-stereo +5% #increase sound volume
    bindsym XF86AudioLowerVolume exec pactl set-sink-volume alsa_output.pci-0000_00_1b.0.analog-stereo -5% #decrease sound volume
    bindsym XF86AudioMute        exec pactl set-sink-mute   alsa_output.pci-0000_00_1b.0.analog-stereo toggle # mute sound

    # Sreen brightness controls. Installed xbacklight through apt-get 
    bindsym XF86MonBrightnessUp   exec xbacklight +10 && notify-send "Brightness: $(xbacklight)"
    bindsym XF86MonBrightnessDown exec xbacklight -10 && notify-send "Brightness: $(xbacklight)"

    # Media player controls
    # I had to install playerctl. I can't remember how though. It was weird
    bindsym XF86AudioPlay  exec playerctl play-pause      
    bindsym XF86AudioNext  exec playerctl next
    bindsym XF86AudioPrev  exec playerctl previous

    # Binds media keys to an easier-to-press combination
    bindsym $mod+p            exec xdotool key --clearmodifiers XF86AudioPlay 
    bindsym $mod+bracketright exec xdotool key --clearmodifiers XF86AudioNext
    bindsym $mod+bracketleft  exec xdotool key --clearmodifiers XF86AudioPrev
    bindsym $mod+m            exec xdotool key --clearmodifiers XF86AudioMute

    bindsym Mod4+Right        exec xdotool key --clearmodifiers XF86AudioRaiseVolume
    bindsym Mod4+Left         exec xdotool key --clearmodifiers XF86AudioLowerVolume
    bindsym Mod4+Up           exec xdotool key --clearmodifiers XF86MonBrightnessUp
    bindsym Mod4+Down         exec xdotool key --clearmodifiers XF86MonBrightnessDown

  # Custom Key Shortcuts
    bindsym Mod4+s exec gnome-screensaver-command -l
    bindsym Mod4+$mod+Return exec /home/alexmcnurlin/.i3/monitor-flip.py

    bindsym Control+$mod+bracketleft  exec variety -p
    bindsym Control+$mod+bracketright exec variety -n
    bindsym Control+$mod+p            exec variety --show-selector
    bindsym Control+$mod+backslash    exec xdg-open "$(variety --show-current | grep home)"

  # Mouse button configuration
    set $alt   Mod1
    set $super Mod4

    bindsym --whole-window button6             exec xdotool key --clearmodifiers XF86AudioPlay
    bindsym --whole-window button7             exec xdotool key --clearmodifiers XF86AudioNext 
    bindsym --whole-window $alt+button7        exec xdotool key --clearmodifiers XF86AudioPrev 

    bindsym --whole-window button8             exec xdotool key --clearmodifiers control+Prior 
    bindsym --whole-window button9             exec xdotool key --clearmodifiers control+Next 
    bindsym --whole-window $super+button2      kill

    bindsym --whole-window $alt+button1        exec xdotool key --clearmodifiers control+shift+c
    bindsym --whole-window $alt+button2        exec xdotool key --clearmodifiers control+w

    bindsym --whole-window $alt+$super+button3 exec xdotool key --clearmodifiers control+l

    bindsym --whole-window $alt+button5 exec xdotool key --clearmodifiers XF86AudioLowerVolume
    bindsym --whole-window $alt+button4 exec xdotool key --clearmodifiers XF86AudioRaiseVolume

  # Workspaces/Monitor
    # This is the xrandr output for the monitor
    set $monitor HDMI1
    exec xrandr --output $monitor --auto --right-of eDP1 # Sets up second monitor
    workspace 1 output eDP1  #  Assigns workspaces to specific monitors
    workspace 2 output eDP1
    workspace 3 output eDP1
    workspace 4 output $monitor
    workspace 5 output $monitor
    workspace 6 output $monitor
    workspace 7 output $monitor

    exec --no-startup-id redshift ~/.config/redshift.conf           #  Works fine. Redshifts the screen
    exec --no-startup-id compton -f                                 #  Works fine. Lightweight composting manager to allow subtle graphics effects
    exec --no-startup-id variety                                    #  Works fine. Automatic wallpaper changer
    exec --no-startup-id insync start                               #  Works fine. Good Google Drive client. I got it for free :)
    exec --no-startup-id davmail .davmail.vandals.properties        #  Works fine. Starts the Davmail server
    exec --no-startup-id guake
    exec --no-startup-id "~/Misc/Packages/WhatPulse/whatpulse"      #  A program to log keystroke statistics
    exec --no-startup-id "~/Misc/custom-scripts/xmod"               #? Doesn't run on startup? Runs a custom  script to change Super_R to Control_R. 
    exec --no-startup-id "~/Misc/custom-scripts/mouse-accel"        #  Works fine. Runs a custom script to disable mouse acceleration

  #These lines are specific to work environment and should be moved to a separate script
    #exec --no-startup-id "i3-msg 'workspace 1; append_layout ~/.i3/ultrawide/workspace1.json'"  # restores saved layouts
    #exec --no-startup-id "i3-msg 'workspace 2; append_layout ~/.i3/ultrawide/workspace2.json'"
    #exec --no-startup-id "i3-msg 'workspace 3; append_layout ~/.i3/ultrawide/workspace3.json'"
    #exec --no-startup-id "i3-msg 'workspace 4; append_layout ~/.i3/ultrawide/workspace4.json'"
    #exec --no-startup-id "i3-msg 'workspace 5; append_layout ~/.i3/ultrawide/workspace5.json'"
    #exec --no-startup-id "i3-msg 'workspace 6; append_layout ~/.i3/ultrawide/workspace6.json'"
    #exec --no-startup-id "i3-msg 'workspace 7; append_layout ~/.i3/ultrawide/workspace7.json'"

    #exec                 i3-msg 'workspace 1; exec nuvolaplayer3 -a google_play_music'                  #  Works fine
    #exec --no-startup-id i3-msg 'workspace 2; exec gnome-terminal & gnome-terminal                      #  Works fine
    #exec --no-startup-id i3-msg 'workspace 3; exec thunderbird'                                         #  Works fine
    #exec --no-startup-id i3-msg 'workspace 5; exec gvim'                                                #  Works fine
    #exec                 i3-msg 'workspace 6; exec hipchat'                                             #  Works fine
    #exec                 i3-msg 'workspace 6; exec messengerfordesktop'                                 #  Works fine
    #exec --no-startup-id i3-msg 'workspace 6; exec firefox "www.gotimeforce2.com" --new-window "kickback.atlassian.net" --new-window "stash.krs.io" --new-window "www.github.com" --new-window "www.pushbullet.com" --new-window "app.groupme.com/chats" --new-window "localhost:8080/wordpress/"' # Works fine. Windows aren't swallowed into the correct containers, but I don't know a way around this.
    #exec --no-startup-id i3-msg 'workspace 7; exec gnome-system-monitor'                                #  Works fine

exec synapse -s                                                   #  Works fine. A launcher of sorts to search through apps and files. 
