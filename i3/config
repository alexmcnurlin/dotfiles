# vim:filetype=i3 fdm=indent foldignore=
# This file was originally auto-generated by i3-config-wizard, 
# but has been modified by yours truly.
# Please see http://i3wm.org/docs/userguide.html for a complete reference!

# Basic settings
  set $mod Mod1

  # Font for window titles.
  #font pango:DejaVu Sans Mono 8
  font pango:Ubuntu Mono 9

  # Use Mouse+$mod to drag floating windows to their wanted position
  floating_modifier mod4

  # The x outputs of the monitors to use. This is intended to work with dual 
  # monitors that are aligned at the top
  set $monitor1_output VGA1
  set $monitor2_output HDMI1

  # new pastel colors
  # The colors are stored as just the numbers, with the hash symbol in the variable $h. 
  # This allows more flexibility for passing colors as arguments to commands
  set $h                  #
  set $fgcolor            458588
  set $accent             83a598 
  set $bgcolor            282828
  #2f343f
  set $black              1d2021
  set $white              fbf1c7
  set $gdcolor            a8bb26
  set $degcolor           fabd2f
  set $bdcolor            db3934

  # Allows Window borders and statusbar borders to be dependent
  set $border_width       5

  # Configuration options for lemonbar and gaps
  # monitor1 = width of left monitor, monitor2 = width of right monitor, 
  # outer_gap = i3-gaps outer gap. inner_gap = i3-gaps inner gap. bar_height = status bar height
  set $monitor1_width     1920 
  set $monitor2_width     2560 
  set $outer_gap          10   
  set $inner_gap          10   
  set $bar_height         26   
  
  # The width of window borders, also disables titlebars
  new_window pixel $border_width 

  # Class                     border     backgr     text       indicator
  client.focused              $h$fgcolor $h$fgcolor $h$bgcolor $h$accent
  client.focused_inactive     $h$bgcolor $h$bgcolor $h$fgcolor $h$bgcolor
  client.unfocused            $h$bgcolor $h$bgcolor $h$fgcolor $h$bgcolor

  # Make the Variety Wallpaper chooser always be float, not tiling
  for_window [class="Variety" instance="variety"] floating enable
  for_window [class="Guake" instance="guake"] floating enable

  exec_always i3-msg gaps inner all set $inner_gap
  exec_always i3-msg gaps outer all set $outer_gap

# Basic key bindings
  # start a terminal
  bindsym $mod+Return exec gnome-terminal

  # kill focused window
  bindsym control+Shift+space kill

  # change focus
  bindsym $mod+h focus left
  bindsym $mod+j focus down
  bindsym $mod+k focus up
  bindsym $mod+l focus right

  # alternatively, you can use the cursor keys:
  bindsym $mod+Left focus left
  bindsym $mod+Down focus down
  bindsym $mod+Up focus up
  bindsym $mod+Right focus right

  # move focused window
  bindsym $mod+Shift+h move left
  bindsym $mod+Shift+j move down
  bindsym $mod+Shift+k move up
  bindsym $mod+Shift+l move right

  # alternatively, you can use the cursor keys:
  bindsym $mod+Shift+Left move left
  bindsym $mod+Shift+Down move down
  bindsym $mod+Shift+Up move up
  bindsym $mod+Shift+Right move right

  # split in horizontal orientation
  bindsym $mod+shift+v split h

  # split in vertical orientation
  bindsym $mod+v split v

  # enter fullscreen mode for the focused container
  bindsym $mod+f fullscreen

  # change container layout (stacked, tabbed, toggle split)
  bindsym $mod+s layout stacking
  bindsym $mod+w layout tabbed
  bindsym $mod+e layout toggle split

  # toggle tiling / floating
  bindsym mod4+space floating toggle

  # change focus between tiling / floating windows
  bindsym mod4+Shift+space focus mode_toggle

  # focus the parent container
  bindsym $mod+a focus parent

# Reloading/Restarting i3
  # reload the configuration file
  bindsym $mod+Shift+c reload
  bindsym $mod+Shift+r restart
  bindsym $mod+Shift+e exec "if $(zenity --question --text='Are you sure you want to log out'); then i3-msg exit; fi"

# Workspace management
  # switch to workspace
  # This is using FontAwesome fonts. The font must be `FontAwesome` in the i3bar settings (line 272 at time of writing)
  # Ubuntu package - `fonts-font-awesome`
  #     sudo apt-get install fonts-font-awesome
  # Arch package - ttf-font-awesome or otf-font-awesome
  # I don't use Arch, idk if this is correct :)
  set $one   
  set $two   
  set $three 
  set $four  
  set $five  
  set $six   
  set $seven 
  set $eight 
  set $nine  
  set $ten   10
               
                
  bindsym $mod+Control+KP_1   workspace $one
  bindsym $mod+Control+m      workspace $one
  bindsym $mod+Control+KP_2   workspace $two
  bindsym $mod+Control+comma  workspace $two
  bindsym $mod+Control+KP_3   workspace $three
  bindsym $mod+Control+period workspace $three
  bindsym $mod+Control+j      workspace $four
  bindsym $mod+Control+KP_4   workspace $four
  bindsym $mod+Control+k      workspace $five
  bindsym $mod+Control+KP_5   workspace $five
  bindsym $mod+Control+l      workspace $six
  bindsym $mod+Control+KP_6   workspace $six
  bindsym $mod+Control+u      workspace $seven
  bindsym $mod+Control+KP_7   workspace $seven
  bindsym $mod+Control+i      workspace $eight
  bindsym $mod+Control+KP_8   workspace $eight
  bindsym $mod+Control+KP_9   workspace $nine
  bindsym $mod+Control+o      workspace $nine
  bindsym $mod+Control+KP_0   workspace $ten

# move focused container to workspace
  bindsym $mod+mod4+KP_1 move container to workspace $one
  bindsym $mod+mod4+KP_2 move container to workspace $two
  bindsym $mod+mod4+KP_3 move container to workspace $three
  bindsym $mod+mod4+KP_4 move container to workspace $four
  bindsym $mod+mod4+KP_5 move container to workspace $five
  bindsym $mod+mod4+KP_6 move container to workspace $six
  bindsym $mod+mod4+KP_7 move container to workspace $seven
  bindsym $mod+mod4+KP_8 move container to workspace $eight
  bindsym $mod+mod4+KP_9 move container to workspace $nine
  bindsym $mod+mod4+KP_0 move container to workspace $ten
  bindsym $mod+mod4+m move container to workspace $one
  bindsym $mod+mod4+comma move container to workspace $two
  bindsym $mod+mod4+period move container to workspace $three
  bindsym $mod+mod4+j move container to workspace $four
  bindsym $mod+mod4+k move container to workspace $five
  bindsym $mod+mod4+l move container to workspace $six
  bindsym $mod+mod4+u move container to workspace $seven
  bindsym $mod+mod4+i move container to workspace $eight
  bindsym $mod+mod4+o move container to workspace $nine

  # move focused container to workspace
  bindsym $mod+Shift+KP_1 exec --no-startup-id ~/.i3/switch-workspace.py $one
  bindsym $mod+Shift+KP_2 exec --no-startup-id ~/.i3/switch-workspace.py $two
  bindsym $mod+Shift+KP_3 exec --no-startup-id ~/.i3/switch-workspace.py $three
  bindsym $mod+Shift+KP_4 exec --no-startup-id ~/.i3/switch-workspace.py $four
  bindsym $mod+Shift+KP_5 exec --no-startup-id ~/.i3/switch-workspace.py $five
  bindsym $mod+Shift+KP_6 exec --no-startup-id ~/.i3/switch-workspace.py $six
  bindsym $mod+Shift+KP_7 exec --no-startup-id ~/.i3/switch-workspace.py $seven
  bindsym $mod+Shift+KP_8 exec --no-startup-id ~/.i3/switch-workspace.py $eight
  bindsym $mod+Shift+KP_9 exec --no-startup-id ~/.i3/switch-workspace.py $nine
  bindsym $mod+Shift+KP_0 exec --no-startup-id ~/.i3/switch-workspace.py $ten

  # move focused container to workspace
  bindsym control+$mod+Shift+m      move container to workspace $one; workspace $one
  bindsym control+$mod+Shift+comma  move container to workspace $two workspace $two
  bindsym control+$mod+Shift+period move container to workspace $three; workspace $three
  bindsym control+$mod+Shift+j      move container to workspace $four; workspace $four
  bindsym control+$mod+Shift+k      move container to workspace $five; workspace $five
  bindsym control+$mod+Shift+l      move container to workspace $six; workspace $six
  bindsym control+$mod+Shift+u      move container to workspace $seven; workspace $seven
  bindsym control+$mod+Shift+i      move container to workspace $eight; workspace $eight
  bindsym control+$mod+Shift+o      move container to workspace $nine; workspace $nine

# Custom Modes
  # Resize Window mode
    mode "resize" {
      # These bindings trigger as soon as you enter the resize mode

      # Pressing left will shrink the window’s width.
      # Pressing right will grow the window’s width.
      # Pressing up will shrink the window’s height.
      # Pressing down will grow the window’s height.
      bindsym h resize shrink width  10 px or 4 ppt
      bindsym j resize shrink height 10 px or 4 ppt
      bindsym k resize grow   height 10 px or 4 ppt
      bindsym l resize grow   width  10 px or 4 ppt

      # same bindings, but for the arrow keys
      bindsym Left  resize shrink width  10 px or 4 ppt
      bindsym Down  resize shrink height 10 px or 4 ppt
      bindsym Up    resize grow   height 10 px or 4 ppt
      bindsym Right resize grow   width  10 px or 4 ppt

      bindsym shift+h resize shrink width  1 px or 1ppt
      bindsym shift+j resize shrink height 1 px or 1ppt
      bindsym shift+k resize grow   height 1 px or 1ppt
      bindsym shift+l resize grow   width  1 px or 1ppt

      # same bindings, but for the arrow keys
      bindsym shift+Left  resize shrink width  1 px or 1ppt
      bindsym shift+Down  resize shrink height 1 px or 1ppt
      bindsym shift+Up    resize grow   height 1 px or 1ppt
      bindsym shift+Right resize grow   width  1 px or 1ppt

      bindsym ctrl+h resize shrink width  20 px or 25ppt
      bindsym ctrl+j resize shrink height 20 px or 25ppt
      bindsym ctrl+k resize grow   height 20 px or 25ppt
      bindsym ctrl+l resize grow   width  20 px or 25ppt

      # same bindings, but for the arrow keys
      bindsym ctrl+Left  resize shrink width  20 px or 25ppt
      bindsym ctrl+Down  resize shrink height 20 px or 25ppt
      bindsym ctrl+Up    resize grow   height 20 px or 25ppt
      bindsym ctrl+Right resize grow   width  20 px or 25ppt

      # back to normal: Enter or Escape
      bindsym Return mode "default"
      bindsym Escape mode "default"
    }
    bindsym $mod+r mode "resize"

  # Move window mode
    #mode "move" { # Defines a new 'move' mode to move windows around
            ## change focus
      #bindsym h focus left
      #bindsym j focus down
      #bindsym k focus up
      #bindsym l focus right

      ## alternatively, you can use the cursor keys:
      #bindsym Left  focus left
      #bindsym Down  focus down
      #bindsym Up    focus up
      #bindsym Right focus right

      ## move focused window
      #bindsym Shift+h move left
      #bindsym Shift+j move down
      #bindsym Shift+k move up
      #bindsym Shift+l move right

      ## alternatively, you can use the cursor keys:
      #bindsym Shift+Left move left
      #bindsym Shift+Down move down
      #bindsym Shift+Up move up
      #bindsym Shift+Right move right

      #bindsym Return mode "default"
      #bindsym Escape mode "default"
    #}
    #bindsym $mod+m mode "move"

  # Insert mode
    # This is a mode that allows you to use any shortcuts within an application
    #   that would normally conflict with i3 shortcuts
    mode "insert" {
      bindsym Escape mode "default"
      bindsym Control+bracketleft mode "default"
    }
    bindsym $mod+i mode "insert"

# lemonbar
  # Here's some experimentation with lemonbar
  exec_always --no-startup-id "~/.dotfiles/lemonbar/start_lemonbar.sh $monitor1_width $monitor1_output $monitor2_width $monitor2_output $outer_gap $inner_gap $bar_height $border_width $bgcolor $fgcolor $accent $gdcolor $degcolor $bdcolor"

# Custom Keys/Commands
  #Media/FN key controls
    # Pulse Audio controls
    bindsym XF86AudioRaiseVolume exec pactl set-sink-volume alsa_output.pci-0000_00_1b.0.analog-stereo +5% && notify-send -t 1 -a "Audio" "Volume: $(get_volume)%" #increase sound volume
    bindsym XF86AudioLowerVolume exec pactl set-sink-volume alsa_output.pci-0000_00_1b.0.analog-stereo -5% && notify-send -t 1 -a "Audio" "Volume: $(get_volume)%" #decrease sound volume
    bindsym XF86AudioMute        exec pactl set-sink-mute   alsa_output.pci-0000_00_1b.0.analog-stereo toggle && notify-send -t 1 -a "Audio" "Mute toggled"  # mute sound

    # Sreen brightness controls. Installed xbacklight through apt-get 
    bindsym XF86MonBrightnessUp   exec xbacklight +10 && notify-send -t 1 "Brightness: $(xbacklight)"
    bindsym XF86MonBrightnessDown exec xbacklight -10 && notify-send -t 1 "Brightness: $(xbacklight)"

    # Media player controls
    # I had to install playerctl. I can't remember how though. It was weird
    bindsym XF86AudioPlay  exec playerctl play-pause      
    bindsym XF86AudioPause exec playerctl play-pause
    bindsym XF86AudioNext  exec playerctl next
    bindsym XF86AudioPrev  exec playerctl previous

    # Binds media keys to an easier-to-press combination
    bindsym $mod+p            exec xdotool key --clearmodifiers XF86AudioPlay 
    bindsym $mod+bracketright exec xdotool key --clearmodifiers XF86AudioNext
    bindsym $mod+bracketleft  exec xdotool key --clearmodifiers XF86AudioPrev
    bindsym $mod+m            exec xdotool key --clearmodifiers XF86AudioMute

    bindsym Mod4+Right        exec xdotool key --clearmodifiers XF86AudioRaiseVolume
    bindsym Mod4+Left         exec xdotool key --clearmodifiers XF86AudioLowerVolume
    bindsym Mod4+Up           exec xdotool key --clearmodifiers XF86MonBrightnessUp
    bindsym Mod4+Down         exec xdotool key --clearmodifiers XF86MonBrightnessDown

  # Custom Key Shortcuts
    bindsym Mod4+s exec ~/Misc/custom-scripts/lock.sh
    bindsym Mod4+$mod+Return exec /home/alexmcnurlin/.i3/monitor-flip.py
    bindsym Print            exec scrot ~/Pictures/Screenshots/screenshot_%b-%d_%H:%M:%S.png; exec notify-send -a "Scrot" "Screenshot of whole desktop saved"
    bindsym Control+$mod+s   exec screenshot;

    bindsym Control+$mod+bracketleft  exec variety -p
    bindsym Control+$mod+bracketright exec variety -n
    bindsym Control+$mod+p            exec variety --show-selector
    bindsym Control+$mod+backslash    exec xdg-open "$(variety --show-current | grep -oP \"^/home.*$\")"
    bindsym Control+$mod+d            exec delete-background
    bindsym Control+$mod+Return       exec variety --favorite;exec notify-send -a "Vaiety" "$(variety --show-current | grep -oP '[^\/ ]+?\.[^ ]+') has been added to favorites"

    bindsym $mod+x exec xmod
    bindsym $mod+Escape exec tp
    bindsym $mod+c exec mouse-accel
    bindsym $mod+b exec "if [ blueman-applet ]; then notify-send 'Blueman is running'; fi"

    bindsym Mod4+2 exec sensible-browser
    bindsym Mod4+4 exec "xdg-open ~"

    exec_always pkill rofi; rofi -sidebar-mode -key-run mod1+space -key-window mod1+Tab -lines 10 -columns 1 -eh 2 -width 100 -padding 500 -opacity "90" -bw 0 -bc "$h$bgcolor" -bg "$h$bgcolor" -fg "$h$fgcolor" -hlbg "$h$fgcolor" -hlfg "$h$bgcolor" -bg-active "$h$bgcolor" -fg-active "$h$accent" -hlbg-active "$h$fgcolor" -hlfg-active "$h$bgcolor" "FontAwesome 18" -terminal "gnome-terminal" -fuzzy 

  # Mouse button configuration
    set $alt   Mod1
    set $super Mod4

    bindsym --whole-window button6             exec xdotool key --clearmodifiers XF86AudioPlay
    bindsym --whole-window button7             exec xdotool key --clearmodifiers XF86AudioNext 
    bindsym --whole-window $alt+button7        exec xdotool key --clearmodifiers XF86AudioPrev 

    bindsym --whole-window button8             exec xdotool key --clearmodifiers control+Prior 
    bindsym --whole-window button9             exec xdotool key --clearmodifiers control+Next 
    bindsym --whole-window $super+button2      kill

    bindsym --whole-window $alt+button1        exec xdotool key --clearmodifiers control+shift+c
    bindsym --whole-window $alt+button2        exec xdotool key --clearmodifiers control+w

    bindsym --whole-window $alt+$super+button3 exec xdotool key --clearmodifiers control+l

    bindsym --whole-window $alt+button5 exec xdotool key --clearmodifiers XF86AudioLowerVolume
    bindsym --whole-window $alt+button4 exec xdotool key --clearmodifiers XF86AudioRaiseVolume

  # Workspaces/Monitor
    # This is the xrandr output for the monitor
    exec "xrandr --output $monitor2_output --auto --right-of $monitor1_output # Sets up second monitor"
    workspace $one   output $monitor1_output  #  Assigns workspaces to specific monitors
    workspace $two   output $monitor1_output
    workspace $three output $monitor1_output
    workspace $four  output $monitor2_output
    workspace $five  output $monitor2_output
    workspace $six   output $monitor2_output
    workspace $seven output $monitor2_output

# Startup commands
  exec_always --no-startup-id ~/.dotfiles/dunst/color-dunst.sh $bgcolor $fgcolor $accent $white $bdcolor $inner_gap $outer_gap $bar_height $border_width
  exec --no-startup-id redshift ~/.config/redshift.conf           #  Redshifts the screen
  exec --no-startup-id compton --config ~/.config/.compton.conf   #  Lightweight composting manager to allow subtle graphics effects
  exec --no-startup-id variety                                    #  Automatic wallpaper changer
  exec --no-startup-id insync start                               #  Good Google Drive client. I got it for free :)
  exec --no-startup-id davmail .davmail.vandals.properties        #  Starts the Davmail server
  exec --no-startup-id guake                                      #  A popup terminal.
  exec --no-startup-id "~/Misc/Packages/WhatPulse/whatpulse"      #  A program to log keystroke statistics
