# vim:filetype=i3 fdm=indent foldignore=
# This file was originally auto-generated by i3-config-wizard, 
# but has been modified by yours truly.
# Please see http://i3wm.org/docs/userguide.html for a complete reference!

# Basic settings
  set $mod Mod1

  # Font for window titles.
  #font pango:DejaVu Sans Mono 8
  font pango:Ubuntu Mono 9

  # Use Mouse+$mod to drag floating windows to their wanted position
  floating_modifier mod4

  # The width of window borders, also disables titlebars
  new_window pixel 4 

  # new pastel colors
  set $fgcolor            #4084d6
  set $accent             #64b5f6 
  set $bgcolor            #2f343f
  set $black              #212121
  set $white              #dddddd

  # Configuration options for lemonbar and gaps
  set $monitor1           1920 # The width of the first monitor
  set $monitor2           2560 # The width of the second monitor
  set $outer_gap          15   # The size of outer gaps
  set $inner_gap          15   # The size of inner gaps
  set $bar_height         20   # The height of the status bar

  # Class                     border   backgr   text     indicator
  client.focused              $fgcolor $fgcolor $bgcolor $accent
  client.focused_inactive     $bgcolor $bgcolor $fgcolor $bgcolor
  client.unfocused            $bgcolor $bgcolor $fgcolor $bgcolor

  # Make the Variety Wallpaper chooser always be float, not tiling
  for_window [class="Variety" instance="variety"] floating enable
  for_window [class="Guake" instance="guake"] floating enable

  exec_always i3-msg gaps inner all set $inner_gap
  exec_always i3-msg gaps outer all set $outer_gap

# Basic key bindings
  # start a terminal
  bindsym $mod+Return exec gnome-terminal

  # kill focused window
  bindsym control+Shift+space kill

  # change focus
  bindsym $mod+h focus left
  bindsym $mod+j focus down
  bindsym $mod+k focus up
  bindsym $mod+l focus right

  # alternatively, you can use the cursor keys:
  bindsym $mod+Left focus left
  bindsym $mod+Down focus down
  bindsym $mod+Up focus up
  bindsym $mod+Right focus right

  # move focused window
  bindsym $mod+Shift+h move left
  bindsym $mod+Shift+j move down
  bindsym $mod+Shift+k move up
  bindsym $mod+Shift+l move right

  # alternatively, you can use the cursor keys:
  bindsym $mod+Shift+Left move left
  bindsym $mod+Shift+Down move down
  bindsym $mod+Shift+Up move up
  bindsym $mod+Shift+Right move right

  # split in horizontal orientation
  bindsym $mod+shift+v split h

  # split in vertical orientation
  bindsym $mod+v split v

  # enter fullscreen mode for the focused container
  bindsym $mod+f fullscreen

  # change container layout (stacked, tabbed, toggle split)
  bindsym $mod+s layout stacking
  bindsym $mod+w layout tabbed
  bindsym $mod+e layout toggle split

  # toggle tiling / floating
  bindsym mod4+space floating toggle

  # change focus between tiling / floating windows
  bindsym mod4+Shift+space focus mode_toggle

  # focus the parent container
  bindsym $mod+a focus parent

# Reloading/Restarting i3
  # reload the configuration file
  bindsym $mod+Shift+c reload
  bindsym $mod+Shift+r restart
  bindsym $mod+Shift+e exec "if $(zenity --question --text='Are you sure you want to log out'); then i3-msg exit; fi"

# Workspace management
  # switch to workspace
  # This is using FontAwesome fonts. The font must be `FontAwesome` in the i3bar settings (line 272 at time of writing)
  # Ubuntu package - `fonts-font-awesome`
  #     sudo apt-get install fonts-font-awesome
  # Arch package - ttf-font-awesome or otf-font-awesome
  # I don't use Arch, idk if this is correct :)
  set $one   
  set $two   
  set $three 
  set $four  
  set $five  
  set $six   
  set $seven 
  set $eight 
  set $nine  
  set $ten   10
               
                
  bindsym $mod+Control+KP_1   workspace $one
  bindsym $mod+Control+m      workspace $one
  bindsym $mod+Control+KP_2   workspace $two
  bindsym $mod+Control+comma  workspace $two
  bindsym $mod+Control+KP_3   workspace $three
  bindsym $mod+Control+period workspace $three
  bindsym $mod+Control+j      workspace $four
  bindsym $mod+Control+KP_4   workspace $four
  bindsym $mod+Control+k      workspace $five
  bindsym $mod+Control+KP_5   workspace $five
  bindsym $mod+Control+l      workspace $six
  bindsym $mod+Control+KP_6   workspace $six
  bindsym $mod+Control+u      workspace $seven
  bindsym $mod+Control+KP_7   workspace $seven
  bindsym $mod+Control+i      workspace $eight
  bindsym $mod+Control+KP_8   workspace $eight
  bindsym $mod+Control+KP_9   workspace $nine
  bindsym $mod+Control+o      workspace $nine
  bindsym $mod+Control+KP_0   workspace $ten

# move focused container to workspace
  bindsym $mod+mod4+KP_1 move container to workspace $one
  bindsym $mod+mod4+KP_2 move container to workspace $two
  bindsym $mod+mod4+KP_3 move container to workspace $three
  bindsym $mod+mod4+KP_4 move container to workspace $four
  bindsym $mod+mod4+KP_5 move container to workspace $five
  bindsym $mod+mod4+KP_6 move container to workspace $six
  bindsym $mod+mod4+KP_7 move container to workspace $seven
  bindsym $mod+mod4+KP_8 move container to workspace $eight
  bindsym $mod+mod4+KP_9 move container to workspace $nine
  bindsym $mod+mod4+KP_0 move container to workspace $ten
  bindsym $mod+mod4+m move container to workspace $one
  bindsym $mod+mod4+comma move container to workspace $two
  bindsym $mod+mod4+period move container to workspace $three
  bindsym $mod+mod4+j move container to workspace $four
  bindsym $mod+mod4+k move container to workspace $five
  bindsym $mod+mod4+l move container to workspace $six
  bindsym $mod+mod4+u move container to workspace $seven
  bindsym $mod+mod4+i move container to workspace $eight
  bindsym $mod+mod4+o move container to workspace $nine

  # move focused container to workspace
  bindsym $mod+Shift+KP_1 exec --no-startup-id ~/.i3/switch-workspace.py $one
  bindsym $mod+Shift+KP_2 exec --no-startup-id ~/.i3/switch-workspace.py $two
  bindsym $mod+Shift+KP_3 exec --no-startup-id ~/.i3/switch-workspace.py $three
  bindsym $mod+Shift+KP_4 exec --no-startup-id ~/.i3/switch-workspace.py $four
  bindsym $mod+Shift+KP_5 exec --no-startup-id ~/.i3/switch-workspace.py $five
  bindsym $mod+Shift+KP_6 exec --no-startup-id ~/.i3/switch-workspace.py $six
  bindsym $mod+Shift+KP_7 exec --no-startup-id ~/.i3/switch-workspace.py $seven
  bindsym $mod+Shift+KP_8 exec --no-startup-id ~/.i3/switch-workspace.py $eight
  bindsym $mod+Shift+KP_9 exec --no-startup-id ~/.i3/switch-workspace.py $nine
  bindsym $mod+Shift+KP_0 exec --no-startup-id ~/.i3/switch-workspace.py $ten

  # move focused container to workspace
  bindsym control+$mod+Shift+m      move container to workspace $one; workspace $one
  bindsym control+$mod+Shift+comma  move container to workspace $two workspace $two
  bindsym control+$mod+Shift+period move container to workspace $three; workspace $three
  bindsym control+$mod+Shift+j      move container to workspace $four; workspace $four
  bindsym control+$mod+Shift+k      move container to workspace $five; workspace $five
  bindsym control+$mod+Shift+l      move container to workspace $six; workspace $six
  bindsym control+$mod+Shift+u      move container to workspace $seven; workspace $seven
  bindsym control+$mod+Shift+i      move container to workspace $eight; workspace $eight
  bindsym control+$mod+Shift+o      move container to workspace $nine; workspace $nine

# Custom Modes
  # Resize Window mode
    mode "resize" {
      # These bindings trigger as soon as you enter the resize mode

      # Pressing left will shrink the window’s width.
      # Pressing right will grow the window’s width.
      # Pressing up will shrink the window’s height.
      # Pressing down will grow the window’s height.
      bindsym h resize shrink width  10 px or 4 ppt
      bindsym j resize shrink height 10 px or 4 ppt
      bindsym k resize grow   height 10 px or 4 ppt
      bindsym l resize grow   width  10 px or 4 ppt

      # same bindings, but for the arrow keys
      bindsym Left  resize shrink width  10 px or 4 ppt
      bindsym Down  resize shrink height 10 px or 4 ppt
      bindsym Up    resize grow   height 10 px or 4 ppt
      bindsym Right resize grow   width  10 px or 4 ppt

      bindsym shift+h resize shrink width  1 px or 1ppt
      bindsym shift+j resize shrink height 1 px or 1ppt
      bindsym shift+k resize grow   height 1 px or 1ppt
      bindsym shift+l resize grow   width  1 px or 1ppt

      # same bindings, but for the arrow keys
      bindsym shift+Left  resize shrink width  1 px or 1ppt
      bindsym shift+Down  resize shrink height 1 px or 1ppt
      bindsym shift+Up    resize grow   height 1 px or 1ppt
      bindsym shift+Right resize grow   width  1 px or 1ppt

      bindsym ctrl+h resize shrink width  20 px or 25ppt
      bindsym ctrl+j resize shrink height 20 px or 25ppt
      bindsym ctrl+k resize grow   height 20 px or 25ppt
      bindsym ctrl+l resize grow   width  20 px or 25ppt

      # same bindings, but for the arrow keys
      bindsym ctrl+Left  resize shrink width  20 px or 25ppt
      bindsym ctrl+Down  resize shrink height 20 px or 25ppt
      bindsym ctrl+Up    resize grow   height 20 px or 25ppt
      bindsym ctrl+Right resize grow   width  20 px or 25ppt

      # back to normal: Enter or Escape
      bindsym Return mode "default"
      bindsym Escape mode "default"
    }
    bindsym $mod+r mode "resize"

  # Move window mode
    #mode "move" { # Defines a new 'move' mode to move windows around
            ## change focus
      #bindsym h focus left
      #bindsym j focus down
      #bindsym k focus up
      #bindsym l focus right

      ## alternatively, you can use the cursor keys:
      #bindsym Left  focus left
      #bindsym Down  focus down
      #bindsym Up    focus up
      #bindsym Right focus right

      ## move focused window
      #bindsym Shift+h move left
      #bindsym Shift+j move down
      #bindsym Shift+k move up
      #bindsym Shift+l move right

      ## alternatively, you can use the cursor keys:
      #bindsym Shift+Left move left
      #bindsym Shift+Down move down
      #bindsym Shift+Up move up
      #bindsym Shift+Right move right

      #bindsym Return mode "default"
      #bindsym Escape mode "default"
    #}
    #bindsym $mod+m mode "move"

# i3bar
  # Config can be found in ~/.i3status.conf
    # Here's some experimentation with lemonbar20
exec_always --no-startup-id ~/.dotfiles/lemonbar/start_lemonbar.sh $monitor1 $monitor2 $outer_gap $inner_gap $bar_height
  #bar {
    #colors {
      ## Whole color settings
      #background $bgcolor
      #statusline $accent
      #separator  $fgcolor 

                          ##border  #bg     #text 
      #focused_workspace 	$fgcolor $fgcolor $bgcolor
      #active_workspace  	$fgcolor $fgcolor $bgcolor
      #inactive_workspace	$bgcolor $bgcolor $fgcolor  
      #urgent_workspace	  $bgcolor $bgcolor $fgcolor  
    #}
    ## sudo pip install py3status
    ##i3bar_command i3bar
    #i3bar_command lemonbar -F FontAwesome
    ##status_command py3status
    #status_command lemonbar_status.sh
    #separator_symbol ""
    #font pango:FontAwesome 11
    #position top
  #}

# Custom Keys/Commands
  #Media/FN key controls
    # Pulse Audio controls
    bindsym XF86AudioRaiseVolume exec pactl set-sink-volume alsa_output.pci-0000_00_1b.0.analog-stereo +5% && notify-send -t 1 -a "Audio" "Volume: $(get_volume)%" #increase sound volume
    bindsym XF86AudioLowerVolume exec pactl set-sink-volume alsa_output.pci-0000_00_1b.0.analog-stereo -5% && notify-send -t 1 -a "Audio" "Volume: $(get_volume)%" #decrease sound volume
    bindsym XF86AudioMute        exec pactl set-sink-mute   alsa_output.pci-0000_00_1b.0.analog-stereo toggle && notify-send -t 1 -a "Audio" "Mute toggled"  # mute sound

    # Sreen brightness controls. Installed xbacklight through apt-get 
    bindsym XF86MonBrightnessUp   exec xbacklight +10 && notify-send -t 1 "Brightness: $(xbacklight)"
    bindsym XF86MonBrightnessDown exec xbacklight -10 && notify-send -t 1 "Brightness: $(xbacklight)"

    # Media player controls
    # I had to install playerctl. I can't remember how though. It was weird
    bindsym XF86AudioPlay  exec playerctl play-pause      
    bindsym XF86AudioPause exec playerctl play-pause
    bindsym XF86AudioNext  exec playerctl next
    bindsym XF86AudioPrev  exec playerctl previous

    # Binds media keys to an easier-to-press combination
    bindsym $mod+p            exec xdotool key --clearmodifiers XF86AudioPlay 
    bindsym $mod+bracketright exec xdotool key --clearmodifiers XF86AudioNext
    bindsym $mod+bracketleft  exec xdotool key --clearmodifiers XF86AudioPrev
    bindsym $mod+m            exec xdotool key --clearmodifiers XF86AudioMute

    bindsym Mod4+Right        exec xdotool key --clearmodifiers XF86AudioRaiseVolume
    bindsym Mod4+Left         exec xdotool key --clearmodifiers XF86AudioLowerVolume
    bindsym Mod4+Up           exec xdotool key --clearmodifiers XF86MonBrightnessUp
    bindsym Mod4+Down         exec xdotool key --clearmodifiers XF86MonBrightnessDown

  # Custom Key Shortcuts
    bindsym Mod4+s exec ~/Misc/custom-scripts/lock.sh
    bindsym Mod4+$mod+Return exec /home/alexmcnurlin/.i3/monitor-flip.py
    bindsym Print            exec scrot ~/Pictures/Screenshots/screenshot_%b-%d_%H:%M:%S.png; exec notify-send -a "Scrot" "Screenshot of whole desktop saved"
    bindsym Control+$mod+s   exec screenshot;

    bindsym Control+$mod+bracketleft  exec variety -p
    bindsym Control+$mod+bracketright exec variety -n
    bindsym Control+$mod+p            exec variety --show-selector
    bindsym Control+$mod+backslash    exec xdg-open "$(variety --show-current | grep -oP \"^/home.*$\")"
    bindsym Control+$mod+Return       exec variety --favorite;exec notify-send -a "Vaiety" "$(variety --show-current | grep -oP '[^\/ ]+?\.[^ ]+') has been added to favorites"
    bindsym $mod+x exec xmod
    bindsym $mod+Escape exec tp
    bindsym $mod+c exec mouse-accel

    #bindsym $mod+space exec rofi -show run -lines 10 -columns 1 -eh 2 -width 20 -yoffset 15 -opacity "100" -bw 0 -bc "$bgcolor" -bg "$bgcolor" -fg "$fgcolor" -hlbg "$fgcolor" -hlfg "$bgcolor" "System San Francisco Display 18" -terminal "gnome-terminal"
    bindsym $mod+space exec rofi -show run -lines 10 -columns 1 -eh 2 -width 20 -yoffset 15 -opacity "100" -bw 0 -bc "$bgcolor" -bg "$bgcolor" -fg "$fgcolor" -hlbg "$fgcolor" -hlfg "$bgcolor" "FontAwesome 18" -terminal "gnome-terminal" -fuzzy 

  # Mouse button configuration
    set $alt   Mod1
    set $super Mod4

    bindsym --whole-window button6             exec xdotool key --clearmodifiers XF86AudioPlay
    bindsym --whole-window button7             exec xdotool key --clearmodifiers XF86AudioNext 
    bindsym --whole-window $alt+button7        exec xdotool key --clearmodifiers XF86AudioPrev 

    bindsym --whole-window button8             exec xdotool key --clearmodifiers control+Prior 
    bindsym --whole-window button9             exec xdotool key --clearmodifiers control+Next 
    bindsym --whole-window $super+button2      kill

    bindsym --whole-window $alt+button1        exec xdotool key --clearmodifiers control+shift+c
    bindsym --whole-window $alt+button2        exec xdotool key --clearmodifiers control+w

    bindsym --whole-window $alt+$super+button3 exec xdotool key --clearmodifiers control+l

    bindsym --whole-window $alt+button5 exec xdotool key --clearmodifiers XF86AudioLowerVolume
    bindsym --whole-window $alt+button4 exec xdotool key --clearmodifiers XF86AudioRaiseVolume

  # Workspaces/Monitor
    # This is the xrandr output for the monitor
    set $ext_monitor HDMI1
    exec "xrandr --output $ext_monitor --auto --right-of eDP1 # Sets up second monitor"
    workspace $one   output eDP1  #  Assigns workspaces to specific monitors
    workspace $two   output eDP1
    workspace $three output eDP1
    workspace $four  output $ext_monitor
    workspace $five  output $ext_monitor
    workspace $six   output $ext_monitor
    workspace $seven output $ext_monitor

# Startup commands
  exec --no-startup-id redshift ~/.config/redshift.conf           #  Redshifts the screen
  exec --no-startup-id compton -f                                 #  Lightweight composting manager to allow subtle graphics effects
  exec --no-startup-id variety                                    #  Automatic wallpaper changer
  exec --no-startup-id insync start                               #  Good Google Drive client. I got it for free :)
  exec --no-startup-id davmail .davmail.vandals.properties        #  Starts the Davmail server
  exec --no-startup-id guake                                      #  A popup terminal.
  exec --no-startup-id "~/Misc/Packages/WhatPulse/whatpulse"      #  A program to log keystroke statistics
  exec                 blueman-applet                             #? Enables the blueman bluetooth client. Doesn't seem to run on startup. 
  exec --no-startup-id "~/Misc/custom-scripts/xmod"               #? Doesn't run on startup? Runs a custom  script to change Super_R to Control_R. 
                                                                  #  As a workaround, this command is added to my ~/.zshrc
  exec --no-startup-id "~/Misc/custom-scripts/mouse-accel"        #  Works fine. Runs a custom script to disable mouse acceleration.  
